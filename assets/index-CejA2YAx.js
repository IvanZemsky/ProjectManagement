import{d as j,j as e,b as r,u as S,e as b,S as x,c as k,s as v,a as I,T as w}from"./index-CTpnwpOp.js";import{t as T}from"./TaskColumn-CLFY6b-M.js";import{u as V}from"./index.esm-Db5wdex5.js";import{T as o,F as c,I as u}from"./TextField-0bVFUGdz.js";import{S as m}from"./Select-D-Ptzlsl.js";import{M as s}from"./MenuItem-DK8nUG1v.js";import"./useFormControl-aQ07-FyY.js";const W=()=>{const{id:n}=j();if(!n)return e.jsx("p",{children:"Error"});const h=V({defaultValues:{name:"",description:"",assigneeId:r.Unspecified,status:"to do"}}),f=S(),{register:t,handleSubmit:p,getValues:i}=h,l=b.get(),g=()=>{const a={projectId:n,name:i("name"),description:i("description"),assigneeId:i("assigneeId"),status:i("status")},d=T.create(a);d&&f(v("",I.Projects,d.projectId))};return e.jsx("form",{onSubmit:p(g),noValidate:!0,children:e.jsxs(x,{spacing:2,children:[e.jsx(o,{id:"task-name",label:"Name",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",...t("name",{required:!0})}),e.jsx(o,{id:"task-description",label:"Description",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",multiline:!0,minRows:3,maxRows:3,...t("description")}),e.jsxs(c,{fullWidth:!0,children:[e.jsx(u,{id:"task-assignee-label",children:"Assignee"}),e.jsxs(m,{id:"task-assignee",labelId:"task-assignee-label",label:"Assignee",defaultValue:r.Unspecified,sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...t("assigneeId"),children:[e.jsx(s,{value:r.Unspecified,selected:!0,children:"Unspecified"}),!!(l!=null&&l.data.length)&&l.data.map(a=>e.jsx(s,{value:a.id,children:a.name},a.id))]})]}),e.jsxs(c,{fullWidth:!0,children:[e.jsx(u,{id:"task-status-label",children:"Status"}),e.jsxs(m,{id:"task-status",labelId:"task-status-label",label:"Status",defaultValue:"to do",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...t("status"),children:[e.jsx(s,{value:"to do",selected:!0,children:"To do"}),e.jsx(s,{value:"in progress",children:"In progress"}),e.jsx(s,{value:"code review",children:"Code review"}),e.jsx(s,{value:"done",children:"Done"})]})]}),e.jsx(k,{variant:"contained",type:"submit",sx:{alignSelf:"flex-start"},children:"Create"})]})})},z=({})=>e.jsxs(x,{spacing:2,children:[e.jsx(w,{variant:"h1",children:"New task"}),e.jsx(W,{})]});export{z as default};
