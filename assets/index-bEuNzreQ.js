import{r as c,l as D,m as U,n as A,o as ee,F as V,q as I,w as v,J as te,O as ae,x as E,j as t,D as Y,E as F,t as H,Q as oe,L as q,H as J,f as se,S as P,T as b,g as re,h as ne,I as le,i as ie,B as de,R as Q,A as X,C as ce,s as pe,k as ue,U as ge,V as xe,P as he,W as fe}from"./index-Szt6Dbdr.js";import{p as K}from"./storage-B6eAxZFr.js";import{d as y,u as ve,T as be,a as je,b as Ce,c as G,e as Be,f as ye}from"./useTablePagination-DCpJQvoc.js";import"./Select-CNFq-sKg.js";import"./useFormControl-DCt1-7pC.js";import"./MenuItem-B8bZdWx4.js";function me(e){return c.Children.toArray(e).filter(a=>c.isValidElement(a))}function $e(e){return U("MuiToggleButton",e)}const j=D("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Z=c.createContext({}),_=c.createContext(void 0);function Te(e,a){return a===void 0||e===void 0?!1:Array.isArray(a)?a.includes(e):e===a}const we=e=>{const{classes:a,fullWidth:o,selected:n,disabled:i,size:p,color:r}=e,u={root:["root",n&&"selected",i&&"disabled",o&&"fullWidth",`size${V(p)}`,r]};return F(u,$e,a)},Re=A(ee,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[`size${V(o.size)}`]]}})(I(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${j.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:v(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${j.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:v(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(te()).map(([a])=>({props:{color:a},style:{[`&.${j.selected}`]:{color:(e.vars||e).palette[a].main,backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette[a].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:v(e.palette[a].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette[a].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),W=c.forwardRef(function(a,o){const{value:n,...i}=c.useContext(Z),p=c.useContext(_),r=ae({...i,selected:Te(a.value,n)},a),u=E({props:r,name:"MuiToggleButton"}),{children:f,className:m,color:x="standard",disabled:z=!1,disableFocusRipple:C=!1,fullWidth:d=!1,onChange:$,onClick:T,selected:h,size:k="medium",value:B,...M}=u,w={...u,color:x,disabled:z,disableFocusRipple:C,fullWidth:d,size:k},L=we(w),S=l=>{T&&(T(l,B),l.defaultPrevented)||$&&$(l,B)},g=p||"";return t.jsx(Re,{className:Y(i.className,L.root,m,g),disabled:z,focusRipple:!C,ref:o,onClick:S,onChange:$,value:B,ownerState:w,"aria-pressed":h,...M,children:f})});function Pe(e){return U("MuiToggleButtonGroup",e)}const s=D("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),ze=e=>{const{classes:a,orientation:o,fullWidth:n,disabled:i}=e,p={root:["root",o,n&&"fullWidth"],grouped:["grouped",`grouped${V(o)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return F(p,Pe,a)},ke=A("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[{[`& .${s.grouped}`]:a.grouped},{[`& .${s.grouped}`]:a[`grouped${V(o.orientation)}`]},{[`& .${s.firstButton}`]:a.firstButton},{[`& .${s.lastButton}`]:a.lastButton},{[`& .${s.middleButton}`]:a.middleButton},a.root,o.orientation==="vertical"&&a.vertical,o.fullWidth&&a.fullWidth]}})(I(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderTop:0,marginTop:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${s.lastButton}.${j.disabled},& .${s.middleButton}.${j.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${s.lastButton}.${j.disabled},& .${s.middleButton}.${j.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Oe=c.forwardRef(function(a,o){const n=E({props:a,name:"MuiToggleButtonGroup"}),{children:i,className:p,color:r="standard",disabled:u=!1,exclusive:f=!1,fullWidth:m=!1,onChange:x,orientation:z="horizontal",size:C="medium",value:d,...$}=n,T={...n,disabled:u,fullWidth:m,orientation:z,size:C},h=ze(T),k=c.useCallback((g,l)=>{if(!x)return;const R=d&&d.indexOf(l);let O;d&&R>=0?(O=d.slice(),O.splice(R,1)):O=d?d.concat(l):[l],x(g,O)},[x,d]),B=c.useCallback((g,l)=>{x&&x(g,d===l?null:l)},[x,d]),M=c.useMemo(()=>({className:h.grouped,onChange:f?B:k,value:d,size:C,fullWidth:m,color:r,disabled:u}),[h.grouped,f,B,k,d,C,m,r,u]),w=me(i),L=w.length,S=g=>{const l=g===0,R=g===L-1;return l&&R?"":l?h.firstButton:R?h.lastButton:h.middleButton};return t.jsx(ke,{role:"group",className:Y(h.root,p),ref:o,ownerState:T,...$,children:t.jsx(Z.Provider,{value:M,children:w.map((g,l)=>t.jsx(_.Provider,{value:S(l),children:g},l))})})}),Ve=({to:e,sx:a,children:o})=>t.jsx(y,{sx:{":hover":{bgcolor:H.palette.white.dark},cursor:"pointer",p:0},children:t.jsx(oe,{component:q,to:e,sx:{display:"block",p:2,width:"100%",...a},children:o})}),Me=J(t.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Le=J(t.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),Se=({open:e,onClose:a})=>t.jsx(se,{title:"Tutorial",open:e,onClose:a,children:t.jsxs(P,{spacing:1,sx:{pl:.5},children:[t.jsx(b,{children:"You can see all your projects on this page."}),t.jsx(b,{children:"You can also create new project. The main parts of project are its team and tasks."}),t.jsx(b,{children:"Team of a project is formed from executors. Team also includes lead of project if they are specified"})]})}),{Create:He,Projects:Qe,Docs:Xe}=Q,Ge=({externalState:e})=>{const a=(p,r)=>{e.setView(r),X.set("projectsView",r)},{openModal:o,handleModalOpen:n,handleModalClose:i}=re();return t.jsxs(ne,{title:"Projects",children:[t.jsx(le,{sx:{p:.5},onClick:n,children:t.jsx(ie,{})}),t.jsx(Se,{open:o,onClose:i}),t.jsx(de,{variant:"contained",to:He,children:"New"}),t.jsxs(Oe,{color:"primary",value:e.view,exclusive:!0,onChange:a,sx:{height:"38px"},children:[t.jsx(W,{value:"cards","aria-label":"cards",children:t.jsx(Le,{})}),t.jsx(W,{value:"table","aria-label":"table",children:t.jsx(Me,{})})]})]})},We=({id:e,name:a,description:o,lead:n,startDate:i,endDate:p})=>t.jsx(ce,{variant:"outlined",component:q,to:pe("",Q.Projects,e),sx:{textDecoration:"none",":hover":{boxShadow:5}},children:t.jsxs(ue,{sx:{display:"flex",flexDirection:"column",gap:1,height:"100%"},children:[t.jsx(b,{sx:{fontWeight:500,fontSize:20},children:a}),t.jsxs(P,{spacing:1,sx:{mt:"auto"},children:[t.jsx(b,{children:o}),t.jsx(b,{sx:{backgroundColor:H.palette.secondary.light,paddingY:.5,paddingX:1,borderRadius:1},children:(n==null?void 0:n.name)||"Unspecified lead"}),t.jsxs(b,{children:[i," - ",p]})]})]})}),N=12,Ne=({})=>{const[e,a]=c.useState(1),o=K.get(N,e);return!o||!o.data.length?t.jsx("p",{children:"You haven't added any projects yet"}):t.jsxs(P,{spacing:2,sx:{flexGrow:1,justifyContent:"space-between"},children:[t.jsx(ge,{minItemWidth:"300px",spacing:2,children:o==null?void 0:o.data.map(n=>t.jsx(We,{...n},n.id))}),t.jsx(xe,{itemsCount:o.totalCount,limit:N,currentPage:e,setPage:a})]})},De=[{label:"Name",align:"left"},{label:"Lead",align:"right"},{label:"Team size",align:"right"},{label:"Start date",align:"right"},{label:"End date",align:"right"}],Ue=({})=>{const e=K.get();if(!e||!e.data.length)return t.jsx("p",{children:"You haven't added any projects yet"});const{page:a,rowsPerPage:o,visibleRows:n,handleChangePage:i,handleChangeRowsPerPage:p}=ve(e.data,12);return t.jsxs(P,{component:he,elevation:3,sx:{flexGrow:1,justifyContent:"space-between",overflow:"hidden"},children:[t.jsx(be,{children:t.jsxs(je,{children:[t.jsx(Ce,{sx:{bgcolor:H.palette.white.dark},children:t.jsx(G,{children:De.map(r=>t.jsx(y,{sx:{py:1},align:r.align,children:r.label},r.label))})}),t.jsx(Be,{children:n.map((r,u)=>{var f;return t.jsxs(G,{hover:!0,children:[t.jsx(Ve,{to:r.id,children:r.name}),t.jsx(y,{align:"right",children:((f=r.lead)==null?void 0:f.name)||"Unspecified"}),t.jsx(y,{align:"right",children:r.team.length}),t.jsx(y,{align:"right",children:r.startDate}),t.jsx(y,{align:"right",children:r.endDate})]},r.name+u)})})]})}),t.jsx(ye,{rowsPerPageOptions:[12,25],component:"div",count:e.data.length,rowsPerPage:o,page:a,onPageChange:i,onRowsPerPageChange:p})]})},Ae=X.get("projectsView")||"cards",Ke=()=>{const[e,a]=c.useState(Ae);return e?t.jsxs(P,{sx:{height:"100%"},children:[t.jsx(Ge,{externalState:{view:e,setView:a}}),e==="cards"&&t.jsx(Ne,{}),e==="table"&&t.jsx(Ue,{})]}):t.jsx(fe,{})};export{Ke as default};
