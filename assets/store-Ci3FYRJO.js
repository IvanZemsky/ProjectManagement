import{b as d,e as h,v as p,a as l,m as u,A as r}from"./index-M8xitAOu.js";const n=o=>{const t=new Date(o),a=t.getFullYear(),e=t.getMonth()+1,s=t.getDate(),i=s<10?`0${s}`:s,c=e<10?`0${e}`:e;return`${i}.${c}.${a}`};class j{constructor(){this.projects=[],this.isInitialized=!1,this.get=(t,a)=>{const e=this.projects.length;if(t===void 0||a===void 0)return{data:this.projects,totalCount:e};const s=(a-1)*t;return{data:this.projects.slice(s,s+t),totalCount:e}},this.getById=t=>this.projects.find(a=>a.id===t)||null,this.create=t=>{const e=t.leadId===d.Unspecified?null:h.getById(t.leadId),s=e!=null&&e.id?[e.id]:[],i={id:p(),name:t.name,description:t.description,lead:e,team:s,startDate:n(t.startDate),endDate:n(t.endDate)};return this.projects.push(i),i},this.autosaveState=()=>{l(()=>{this.isInitialized&&r.set("projects",this.projects)})},u(this),this.loadProjects(),this.autosaveState()}loadProjects(){this.projects=r.get("projects")||[],this.isInitialized=!0}}const m=new j;export{m as p};
