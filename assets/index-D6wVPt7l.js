import{r as d,m as D,n as U,o as E,q as Q,F as L,w as A,x as v,H as X,Z as tt,y as F,j as a,D as I,E as Y,t as _,_ as et,L as at,W as q,k as ot,S as H,T as w,i as st,P as rt,V as nt,B as lt,R as it,$ as J,p as S,a0 as dt,J as ct,U as ut}from"./index-BKcszQKM.js";import{P as pt}from"./ProjectCard-Ct2Ifwk9.js";import{d as y,u as gt,T as xt,a as ht,b as ft,c as G,e as vt,f as bt}from"./useTablePagination-DFcPhFhq.js";import"./Select-Ds_JSibu.js";import"./utils-ishblJic.js";import"./MenuItem-D_-LpAxY.js";function Bt(t){return d.Children.toArray(t).filter(e=>d.isValidElement(e))}function Ct(t){return U("MuiToggleButton",t)}const b=D("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Z=d.createContext({}),K=d.createContext(void 0);function yt(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const jt=t=>{const{classes:e,fullWidth:o,selected:l,disabled:c,size:u,color:r}=t,p={root:["root",l&&"selected",c&&"disabled",o&&"fullWidth",`size${L(u)}`,r]};return Y(p,Ct,e)},$t=E(Q,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[`size${L(o.size)}`]]}})(A(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${b.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:v(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${b.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:v(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:v(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:v(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(X()).map(([e])=>({props:{color:e},style:{[`&.${b.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:v(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:v(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:v(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),W=d.forwardRef(function(e,o){const{value:l,...c}=d.useContext(Z),u=d.useContext(K),r=tt({...c,selected:yt(e.value,l)},e),p=F({props:r,name:"MuiToggleButton"}),{children:f,className:j,color:x="standard",disabled:P=!1,disableFocusRipple:B=!1,fullWidth:i=!1,onChange:$,onClick:m,selected:h,size:z="medium",value:C,...M}=p,T={...p,color:x,disabled:P,disableFocusRipple:B,fullWidth:i,size:z},O=jt(T),V=n=>{m&&(m(n,C),n.defaultPrevented)||$&&$(n,C)},g=u||"";return a.jsx($t,{className:I(c.className,O.root,j,g),disabled:P,focusRipple:!B,ref:o,onClick:V,onChange:$,value:C,ownerState:T,"aria-pressed":h,...M,children:f})});function mt(t){return U("MuiToggleButtonGroup",t)}const s=D("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Tt=t=>{const{classes:e,orientation:o,fullWidth:l,disabled:c}=t,u={root:["root",o,l&&"fullWidth"],grouped:["grouped",`grouped${L(o)}`,c&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Y(u,mt,e)},Rt=E("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${s.grouped}`]:e.grouped},{[`& .${s.grouped}`]:e[`grouped${L(o.orientation)}`]},{[`& .${s.firstButton}`]:e.firstButton},{[`& .${s.lastButton}`]:e.lastButton},{[`& .${s.middleButton}`]:e.middleButton},e.root,o.orientation==="vertical"&&e.vertical,o.fullWidth&&e.fullWidth]}})(A(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderTop:0,marginTop:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${s.lastButton}.${b.disabled},& .${s.middleButton}.${b.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${s.lastButton}.${b.disabled},& .${s.middleButton}.${b.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),wt=d.forwardRef(function(e,o){const l=F({props:e,name:"MuiToggleButtonGroup"}),{children:c,className:u,color:r="standard",disabled:p=!1,exclusive:f=!1,fullWidth:j=!1,onChange:x,orientation:P="horizontal",size:B="medium",value:i,...$}=l,m={...l,disabled:p,fullWidth:j,orientation:P,size:B},h=Tt(m),z=d.useCallback((g,n)=>{if(!x)return;const R=i&&i.indexOf(n);let k;i&&R>=0?(k=i.slice(),k.splice(R,1)):k=i?i.concat(n):[n],x(g,k)},[x,i]),C=d.useCallback((g,n)=>{x&&x(g,i===n?null:n)},[x,i]),M=d.useMemo(()=>({className:h.grouped,onChange:f?C:z,value:i,size:B,fullWidth:j,color:r,disabled:p}),[h.grouped,f,C,z,i,B,j,r,p]),T=Bt(c),O=T.length,V=g=>{const n=g===0,R=g===O-1;return n&&R?"":n?h.firstButton:R?h.lastButton:h.middleButton};return a.jsx(Rt,{role:"group",className:I(h.root,u),ref:o,ownerState:m,...$,children:a.jsx(Z.Provider,{value:M,children:T.map((g,n)=>a.jsx(K.Provider,{value:V(n),children:g},n))})})}),Pt=({to:t,sx:e,children:o})=>a.jsx(y,{sx:{":hover":{bgcolor:_.palette.white.dark},cursor:"pointer",p:0},children:a.jsx(et,{component:at,to:t,sx:{display:"block",p:2,width:"100%",...e},children:o})}),zt=q(a.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),kt=q(a.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),Lt=({open:t,onClose:e})=>a.jsx(ot,{title:"Tutorial",open:t,onClose:e,children:a.jsxs(H,{spacing:1,sx:{pl:.5},children:[a.jsx(w,{children:"You can see all your projects on this page."}),a.jsx(w,{children:"You can also create new project. The main parts of project are its team and tasks."}),a.jsx(w,{children:"Team of a project is formed from executors. Team also includes lead of project if they are specified"})]})}),{Create:Mt}=it,Ot=({view:t})=>{const e=(u,r)=>{r===null||t.value===r||(t.set(r),J.set("projectsView",r))},{openModal:o,handleModalOpen:l,handleModalClose:c}=st(!1);return a.jsxs(rt,{title:"Projects",children:[a.jsx(nt,{onClick:l}),a.jsx(Lt,{open:o,onClose:c}),a.jsx(lt,{variant:"contained",to:Mt,children:"New"}),a.jsxs(wt,{color:"primary",value:t.value,exclusive:!0,onChange:e,sx:{height:"38px"},children:[a.jsx(W,{value:"cards","aria-label":"cards",children:a.jsx(kt,{})}),a.jsx(W,{value:"table","aria-label":"table",children:a.jsx(zt,{})})]})]})},N=12,Vt=({})=>{const[t,e]=d.useState(1),o=S.get(N,t);return!o||!o.data.length?a.jsx(w,{children:"You haven't added any projects yet"}):a.jsx(dt,{totalCount:o.totalCount,limit:N,currentPage:t,setPage:e,children:a.jsx(ct,{minItemWidth:"300px",spacing:2,children:o==null?void 0:o.data.map(l=>a.jsx(pt,{data:l},l.id))})})},Ht=[{label:"Name",align:"left"},{label:"Lead",align:"right"},{label:"Team size",align:"right"},{label:"Start date",align:"right"},{label:"End date",align:"right"}],St=t=>{var e;return((e=S.getTeam(t))==null?void 0:e.length)||0},Gt=({})=>{const t=S.get();if(!t||!t.data.length)return a.jsx(w,{children:"You haven't added any projects yet"});const{page:e,rowsPerPage:o,visibleRows:l,handleChangePage:c,handleChangeRowsPerPage:u}=gt(t.data,12);return a.jsxs(H,{component:ut,elevation:3,sx:{flexGrow:1,justifyContent:"space-between",overflow:"hidden"},children:[a.jsx(xt,{children:a.jsxs(ht,{children:[a.jsx(ft,{sx:{bgcolor:_.palette.white.dark},children:a.jsx(G,{children:Ht.map(r=>a.jsx(y,{sx:{py:1},align:r.align,children:r.label},r.label))})}),a.jsx(vt,{children:l.map((r,p)=>{var f;return a.jsxs(G,{hover:!0,children:[a.jsx(Pt,{to:r.id,children:r.name}),a.jsx(y,{align:"right",children:((f=r.lead)==null?void 0:f.name)||"Unspecified"}),a.jsx(y,{align:"right",children:St(r.id)}),a.jsx(y,{align:"right",children:r.startDate}),a.jsx(y,{align:"right",children:r.endDate})]},r.name+p)})})]})}),a.jsx(bt,{rowsPerPageOptions:[12,25],component:"div",count:t.data.length,rowsPerPage:o,page:e,onPageChange:c,onRowsPerPageChange:u})]})},Wt=()=>J.get("projectsView")||"cards",It=()=>{const[t,e]=d.useState(Wt);return a.jsxs(H,{sx:{height:"100%"},children:[a.jsx(Ot,{view:{value:t,set:e}}),t==="cards"&&a.jsx(Vt,{}),t==="table"&&a.jsx(Gt,{})]})};export{It as default};
