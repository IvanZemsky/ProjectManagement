import{r as c,k as D,l as U,m as A,n as tt,D as M,p as E,q as b,F as et,O as at,w as Y,j as e,z as F,C as I,t as H,Q as ot,U as q,J,f as st,S as P,T as x,g as rt,h as nt,i as lt,B as it,R as K,A as Q,K as dt,s as ct,L as pt,V as ut,W as gt,P as xt}from"./index-D9BQda8C.js";import{p as X}from"./storage-Bm5RpRsP.js";import{d as y,u as ht,T as ft,a as vt,b as bt,c as G,e as Ct,f as Bt}from"./useTablePagination-DWDOVilB.js";import"./Select-CJ3_jBZx.js";import"./utils-CGqzzuYx.js";import"./MenuItem-DVspLN0o.js";function jt(t){return c.Children.toArray(t).filter(a=>c.isValidElement(a))}function yt(t){return U("MuiToggleButton",t)}const C=D("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),_=c.createContext({}),Z=c.createContext(void 0);function mt(t,a){return a===void 0||t===void 0?!1:Array.isArray(a)?a.includes(t):t===a}const $t=t=>{const{classes:a,fullWidth:o,selected:n,disabled:i,size:p,color:r}=t,u={root:["root",n&&"selected",i&&"disabled",o&&"fullWidth",`size${M(p)}`,r]};return I(u,yt,a)},Tt=A(tt,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:o}=t;return[a.root,a[`size${M(o.size)}`]]}})(E(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${C.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${C.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(et()).map(([a])=>({props:{color:a},style:{[`&.${C.selected}`]:{color:(t.vars||t).palette[a].main,backgroundColor:t.vars?`rgba(${t.vars.palette[a].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette[a].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[a].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette[a].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[a].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette[a].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),W=c.forwardRef(function(a,o){const{value:n,...i}=c.useContext(_),p=c.useContext(Z),r=at({...i,selected:mt(a.value,n)},a),u=Y({props:r,name:"MuiToggleButton"}),{children:v,className:m,color:h="standard",disabled:z=!1,disableFocusRipple:B=!1,fullWidth:d=!1,onChange:$,onClick:T,selected:f,size:k="medium",value:j,...V}=u,R={...u,color:h,disabled:z,disableFocusRipple:B,fullWidth:d,size:k},L=$t(R),S=l=>{T&&(T(l,j),l.defaultPrevented)||$&&$(l,j)},g=p||"";return e.jsx(Tt,{className:F(i.className,L.root,m,g),disabled:z,focusRipple:!B,ref:o,onClick:S,onChange:$,value:j,ownerState:R,"aria-pressed":f,...V,children:v})});function Rt(t){return U("MuiToggleButtonGroup",t)}const s=D("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),wt=t=>{const{classes:a,orientation:o,fullWidth:n,disabled:i}=t,p={root:["root",o,n&&"fullWidth"],grouped:["grouped",`grouped${M(o)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return I(p,Rt,a)},Pt=A("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:o}=t;return[{[`& .${s.grouped}`]:a.grouped},{[`& .${s.grouped}`]:a[`grouped${M(o.orientation)}`]},{[`& .${s.firstButton}`]:a.firstButton},{[`& .${s.lastButton}`]:a.lastButton},{[`& .${s.middleButton}`]:a.middleButton},a.root,o.orientation==="vertical"&&a.vertical,o.fullWidth&&a.fullWidth]}})(E(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderTop:0,marginTop:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${s.lastButton}.${C.disabled},& .${s.middleButton}.${C.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${s.lastButton}.${C.disabled},& .${s.middleButton}.${C.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),zt=c.forwardRef(function(a,o){const n=Y({props:a,name:"MuiToggleButtonGroup"}),{children:i,className:p,color:r="standard",disabled:u=!1,exclusive:v=!1,fullWidth:m=!1,onChange:h,orientation:z="horizontal",size:B="medium",value:d,...$}=n,T={...n,disabled:u,fullWidth:m,orientation:z,size:B},f=wt(T),k=c.useCallback((g,l)=>{if(!h)return;const w=d&&d.indexOf(l);let O;d&&w>=0?(O=d.slice(),O.splice(w,1)):O=d?d.concat(l):[l],h(g,O)},[h,d]),j=c.useCallback((g,l)=>{h&&h(g,d===l?null:l)},[h,d]),V=c.useMemo(()=>({className:f.grouped,onChange:v?j:k,value:d,size:B,fullWidth:m,color:r,disabled:u}),[f.grouped,v,j,k,d,B,m,r,u]),R=jt(i),L=R.length,S=g=>{const l=g===0,w=g===L-1;return l&&w?"":l?f.firstButton:w?f.lastButton:f.middleButton};return e.jsx(Pt,{role:"group",className:F(f.root,p),ref:o,ownerState:T,...$,children:e.jsx(_.Provider,{value:V,children:R.map((g,l)=>e.jsx(Z.Provider,{value:S(l),children:g},l))})})}),kt=({to:t,sx:a,children:o})=>e.jsx(y,{sx:{":hover":{bgcolor:H.palette.white.dark},cursor:"pointer",p:0},children:e.jsx(ot,{component:q,to:t,sx:{display:"block",p:2,width:"100%",...a},children:o})}),Ot=J(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Mt=J(e.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),Vt=({open:t,onClose:a})=>e.jsx(st,{title:"Tutorial",open:t,onClose:a,children:e.jsxs(P,{spacing:1,sx:{pl:.5},children:[e.jsx(x,{children:"You can see all your projects on this page."}),e.jsx(x,{children:"You can also create new project. The main parts of project are its team and tasks."}),e.jsx(x,{children:"Team of a project is formed from executors. Team also includes lead of project if they are specified"})]})}),{Create:Lt}=K,St=({view:t})=>{const a=(p,r)=>{r===null||t.value===r||(t.set(r),Q.set("projectsView",r))},{openModal:o,handleModalOpen:n,handleModalClose:i}=rt(!1);return e.jsxs(nt,{title:"Projects",children:[e.jsx(lt,{onClick:n}),e.jsx(Vt,{open:o,onClose:i}),e.jsx(it,{variant:"contained",to:Lt,children:"New"}),e.jsxs(zt,{color:"primary",value:t.value,exclusive:!0,onChange:a,sx:{height:"38px"},children:[e.jsx(W,{value:"cards","aria-label":"cards",children:e.jsx(Mt,{})}),e.jsx(W,{value:"table","aria-label":"table",children:e.jsx(Ot,{})})]})]})},Ht=({id:t,name:a,description:o,lead:n,startDate:i,endDate:p})=>e.jsx(dt,{variant:"outlined",component:q,to:ct("",K.Projects,t),sx:{textDecoration:"none",":hover":{boxShadow:5}},children:e.jsxs(pt,{sx:{display:"flex",flexDirection:"column",gap:1,height:"100%"},children:[e.jsx(x,{sx:{fontWeight:500,fontSize:20},children:a}),e.jsxs(P,{spacing:1,sx:{mt:"auto"},children:[e.jsx(x,{children:o}),e.jsx(x,{sx:{backgroundColor:H.palette.secondary.light,paddingY:.5,paddingX:1,borderRadius:1},children:(n==null?void 0:n.name)||"Unspecified lead"}),e.jsxs(x,{children:[i," - ",p]})]})]})}),N=12,Gt=({})=>{const[t,a]=c.useState(1),o=X.get(N,t);return!o||!o.data.length?e.jsx(x,{children:"You haven't added any projects yet"}):e.jsxs(P,{spacing:2,sx:{flexGrow:1,justifyContent:"space-between"},children:[e.jsx(ut,{minItemWidth:"300px",spacing:2,children:o==null?void 0:o.data.map(n=>e.jsx(Ht,{...n},n.id))}),e.jsx(gt,{itemsCount:o.totalCount,limit:N,currentPage:t,setPage:a})]})},Wt=[{label:"Name",align:"left"},{label:"Lead",align:"right"},{label:"Team size",align:"right"},{label:"Start date",align:"right"},{label:"End date",align:"right"}],Nt=({})=>{const t=X.get();if(!t||!t.data.length)return e.jsx(x,{children:"You haven't added any projects yet"});const{page:a,rowsPerPage:o,visibleRows:n,handleChangePage:i,handleChangeRowsPerPage:p}=ht(t.data,12);return e.jsxs(P,{component:xt,elevation:3,sx:{flexGrow:1,justifyContent:"space-between",overflow:"hidden"},children:[e.jsx(ft,{children:e.jsxs(vt,{children:[e.jsx(bt,{sx:{bgcolor:H.palette.white.dark},children:e.jsx(G,{children:Wt.map(r=>e.jsx(y,{sx:{py:1},align:r.align,children:r.label},r.label))})}),e.jsx(Ct,{children:n.map((r,u)=>{var v;return e.jsxs(G,{hover:!0,children:[e.jsx(kt,{to:r.id,children:r.name}),e.jsx(y,{align:"right",children:((v=r.lead)==null?void 0:v.name)||"Unspecified"}),e.jsx(y,{align:"right",children:r.team.length}),e.jsx(y,{align:"right",children:r.startDate}),e.jsx(y,{align:"right",children:r.endDate})]},r.name+u)})})]})}),e.jsx(Bt,{rowsPerPageOptions:[12,25],component:"div",count:t.data.length,rowsPerPage:o,page:a,onPageChange:i,onRowsPerPageChange:p})]})},Dt=()=>Q.get("projectsView")||"cards",qt=()=>{const[t,a]=c.useState(Dt);return e.jsxs(P,{sx:{height:"100%"},children:[e.jsx(St,{view:{value:t,set:a}}),t==="cards"&&e.jsx(Gt,{}),t==="table"&&e.jsx(Nt,{})]})};export{qt as default};
