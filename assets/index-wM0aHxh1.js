import{r as h,j as e,G as d,t as k,b as I,d as b,i as T,B as v}from"./index-DxyMU2dh.js";import{p as w}from"./storage-D2xfkdnl.js";import{t as p,D,T as S}from"./TaskColumn-CxIFh-pO.js";const B=[{id:"to do",label:"To do"},{id:"in progress",label:"In progress"},{id:"code review",label:"Code review"},{id:"done",label:"Done"}],E=(t,s)=>{if(s)return s.filter(i=>i.status===t)},P=t=>p.getByProjectId(t)||[],C=({projectId:t})=>{const[s,i]=h.useState(()=>P(t)),u=a=>{const{active:j,over:c}=a;if(!c)return;const n=j.id,x=c.id;i(()=>{const o=s.map(r=>n===r.id?{...r,status:x}:r),{name:g,status:f,assignee:l,description:m,projectId:y}=o.find(r=>r.id===n);return l?l.id:I.Unspecified,p.updateOne(n,o.find(r=>r.id===n)),o})};return e.jsx(d,{container:!0,spacing:2,size:"grow",sx:{[k.breakpoints.down("lg")]:{flexDirection:"column"}},children:e.jsx(D,{onDragEnd:u,children:B.map(a=>e.jsx(d,{size:"grow",sx:{height:"100%",flexGrow:1},children:e.jsx(S,{label:a.label,tasks:E(a.id,s),column:a})},a.id))})})},H=({})=>{const{id:t}=b(),s=w.getById(t);return s?e.jsxs(d,{container:!0,direction:"column",sx:{height:"100%"},children:[e.jsx(T,{title:s.name,children:e.jsx(v,{to:"create-task",variant:"contained",children:"Add task"})}),e.jsx(C,{projectId:t})]}):e.jsx("p",{children:"Error"})};export{H as default};
