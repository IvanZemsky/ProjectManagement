import{S as l,r as n,u as x,e as f,j as e,a as j,T as h,b as S,s as b,R as g}from"./index-CeIrnNpe.js";import{p as v}from"./storage-FOAhqVHJ.js";import{u as w,T as r,F as D,I}from"./index.esm-DrypZSza.js";import{S as P}from"./Select-h7NFIA8c.js";import{M as o}from"./MenuItem-BGXQHYWy.js";import"./useFormControl-Clfv13Eq.js";const W=()=>{const c=w({defaultValues:{name:"",description:"",leadId:l.Unspecified,endDate:"",startDate:""}});n.useState(!1);const m=x(),{register:t,handleSubmit:p,getValues:a}=c,i=n.useMemo(()=>f.get(),[]),u=()=>{const s={name:a("name"),description:a("description"),leadId:a("leadId"),startDate:a("startDate"),endDate:a("endDate")},d=v.create(s);d&&m("/"+b(g.Projects,d.id))};return e.jsx("form",{onSubmit:p(u),noValidate:!0,children:e.jsxs(j,{spacing:2,children:[e.jsx(h,{variant:"h1",children:"New project"}),e.jsx(r,{id:"project-name",label:"Name",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",...t("name",{required:!0})}),e.jsx(r,{id:"project-description",label:"Description",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",multiline:!0,minRows:3,maxRows:3,...t("description")}),e.jsxs(D,{fullWidth:!0,children:[e.jsx(I,{id:"project-lead-label",children:"Lead"}),e.jsxs(P,{id:"project-lead",labelId:"project-lead-label",label:"Lead",defaultValue:l.Unspecified,sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...t("leadId"),children:[e.jsx(o,{value:l.Unspecified,selected:!0,children:"Unspecified"}),!!(i!=null&&i.data.length)&&i.data.map(s=>e.jsx(o,{value:s.id,children:s.name},s.id))]})]}),e.jsx(r,{id:"project-start-date",label:"Start date",slotProps:{inputLabel:{shrink:!0}},variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",type:"date",...t("startDate",{required:!0})}),e.jsx(r,{id:"project-end-date",label:"End date",slotProps:{inputLabel:{shrink:!0}},variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",type:"date",...t("endDate",{required:!0})}),e.jsx(S,{variant:"contained",type:"submit",sx:{alignSelf:"flex-start"},children:"Create"})]})})},T=()=>e.jsx(W,{});export{T as default};
