import{c as g,j as e,S as n,u as j,e as S,b,T as k,a as v,s as I,R as w,B as T}from"./index-YQpXz-nU.js";import{t as V}from"./storage-BhV17rlw.js";import{u as W,T as o,F as u,I as c}from"./index.esm-p-Tcc9uJ.js";import{S as m}from"./Select-2GGjcwXQ.js";import{M as a}from"./MenuItem-BEI0nLuc.js";const C=()=>{const{id:r}=g();if(!r)return e.jsx("p",{children:"Error"});const x=W({defaultValues:{name:"",description:"",assigneeId:n.Unspecified,status:"To do"}}),h=j(),{register:t,handleSubmit:f,getValues:i}=x,l=S.get(),p=()=>{const s={projectId:r,name:i("name"),description:i("description"),assigneeId:i("assigneeId"),status:i("status")};console.log(s);const d=V.create(s);d&&h("/"+I(w.Projects,d.projectId))};return e.jsx("form",{onSubmit:f(p),noValidate:!0,children:e.jsxs(b,{spacing:2,children:[e.jsx(k,{variant:"h1",children:"New task"}),e.jsx(o,{id:"task-name",label:"Name",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",...t("name",{required:!0})}),e.jsx(o,{id:"task-description",label:"Description",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",multiline:!0,minRows:3,maxRows:3,...t("description")}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(c,{id:"task-assignee-label",children:"Assignee"}),e.jsxs(m,{id:"task-assignee",labelId:"task-assignee-label",label:"Assignee",defaultValue:n.Unspecified,sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...t("assigneeId"),children:[e.jsx(a,{value:n.Unspecified,selected:!0,children:"Unspecified"}),!!(l!=null&&l.length)&&l.map(s=>e.jsx(a,{value:s.id,children:s.name},s.id))]})]}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(c,{id:"task-status-label",children:"Status"}),e.jsxs(m,{id:"task-status",labelId:"task-status-label",label:"Status",defaultValue:"To do",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...t("status"),children:[e.jsx(a,{value:"To do",selected:!0,children:"To do"}),e.jsx(a,{value:"In progress",children:"In progress"}),e.jsx(a,{value:"Code review",children:"Code review"}),e.jsx(a,{value:"Done",children:"Done"})]})]}),e.jsx(v,{variant:"contained",type:"submit",sx:{alignSelf:"flex-start"},children:"Create"})]})})},D=({})=>e.jsx(T,{children:e.jsx(C,{})});export{D as default};
