import{d as g,j as e,b as r,u as j,e as S,S as b,T as k,c as v,s as I,a as w}from"./index-CI9R057X.js";import{t as T}from"./TaskCard-BsW9fwOm.js";import{u as V}from"./index.esm-BDxTxVbh.js";import{T as o,F as u,I as c}from"./TextField-CNJA19l_.js";import{S as m}from"./Select-BKuuK34I.js";import{M as s}from"./MenuItem-yHoN_zge.js";import"./useFormControl-C6LYoaN0.js";const W=()=>{const{id:n}=g();if(!n)return e.jsx("p",{children:"Error"});const x=V({defaultValues:{name:"",description:"",assigneeId:r.Unspecified,status:"to do"}}),f=j(),{register:a,handleSubmit:h,getValues:i}=x,l=S.get(),p=()=>{const t={projectId:n,name:i("name"),description:i("description"),assigneeId:i("assigneeId"),status:i("status")},d=T.create(t);d&&f("/"+I(w.Projects,d.projectId))};return e.jsx("form",{onSubmit:h(p),noValidate:!0,children:e.jsxs(b,{spacing:2,children:[e.jsx(k,{variant:"h1",children:"New task"}),e.jsx(o,{id:"task-name",label:"Name",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",...a("name",{required:!0})}),e.jsx(o,{id:"task-description",label:"Description",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",multiline:!0,minRows:3,maxRows:3,...a("description")}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(c,{id:"task-assignee-label",children:"Assignee"}),e.jsxs(m,{id:"task-assignee",labelId:"task-assignee-label",label:"Assignee",defaultValue:r.Unspecified,sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...a("assigneeId"),children:[e.jsx(s,{value:r.Unspecified,selected:!0,children:"Unspecified"}),!!(l!=null&&l.data.length)&&l.data.map(t=>e.jsx(s,{value:t.id,children:t.name},t.id))]})]}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(c,{id:"task-status-label",children:"Status"}),e.jsxs(m,{id:"task-status",labelId:"task-status-label",label:"Status",defaultValue:"to do",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...a("status"),children:[e.jsx(s,{value:"to do",selected:!0,children:"To do"}),e.jsx(s,{value:"in progress",children:"In progress"}),e.jsx(s,{value:"code review",children:"Code review"}),e.jsx(s,{value:"done",children:"Done"})]})]}),e.jsx(v,{variant:"contained",type:"submit",sx:{alignSelf:"flex-start"},children:"Create"})]})})},z=({})=>e.jsx(W,{});export{z as default};
