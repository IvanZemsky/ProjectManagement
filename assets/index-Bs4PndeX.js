import{r as c,k as D,l as U,m as A,n as ee,E as O,p as E,q as v,H as te,M as ae,w as Y,j as t,z as F,D as I,t as H,N as oe,L as q,F as Q,f as se,a as P,T as b,g as re,h as ne,B as le,R as X,A as _,C as ie,s as de,i as ce,O as pe,Q as ue,P as ge,U as xe}from"./index-CeIrnNpe.js";import{d as y,g as he,u as fe,T as ve,a as be,b as Ce,c as G,e as je,f as Be}from"./useTablePagination-tiQAOARD.js";import{p as J}from"./storage-FOAhqVHJ.js";import"./Select-h7NFIA8c.js";import"./useFormControl-Clfv13Eq.js";import"./MenuItem-BGXQHYWy.js";function ye(e){return c.Children.toArray(e).filter(a=>c.isValidElement(a))}function me(e){return U("MuiToggleButton",e)}const C=D("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),K=c.createContext({}),Z=c.createContext(void 0);function $e(e,a){return a===void 0||e===void 0?!1:Array.isArray(a)?a.includes(e):e===a}const Te=e=>{const{classes:a,fullWidth:o,selected:n,disabled:i,size:p,color:r}=e,u={root:["root",n&&"selected",i&&"disabled",o&&"fullWidth",`size${O(p)}`,r]};return I(u,me,a)},we=A(ee,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[`size${O(o.size)}`]]}})(E(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${C.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:v(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${C.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:v(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(te()).map(([a])=>({props:{color:a},style:{[`&.${C.selected}`]:{color:(e.vars||e).palette[a].main,backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette[a].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:v(e.palette[a].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette[a].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),W=c.forwardRef(function(a,o){const{value:n,...i}=c.useContext(K),p=c.useContext(Z),r=ae({...i,selected:$e(a.value,n)},a),u=Y({props:r,name:"MuiToggleButton"}),{children:f,className:m,color:x="standard",disabled:z=!1,disableFocusRipple:j=!1,fullWidth:d=!1,onChange:$,onClick:T,selected:h,size:k="medium",value:B,...V}=u,w={...u,color:x,disabled:z,disableFocusRipple:j,fullWidth:d,size:k},L=Te(w),S=l=>{T&&(T(l,B),l.defaultPrevented)||$&&$(l,B)},g=p||"";return t.jsx(we,{className:F(i.className,L.root,m,g),disabled:z,focusRipple:!j,ref:o,onClick:S,onChange:$,value:B,ownerState:w,"aria-pressed":h,...V,children:f})});function Re(e){return U("MuiToggleButtonGroup",e)}const s=D("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Pe=e=>{const{classes:a,orientation:o,fullWidth:n,disabled:i}=e,p={root:["root",o,n&&"fullWidth"],grouped:["grouped",`grouped${O(o)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return I(p,Re,a)},ze=A("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[{[`& .${s.grouped}`]:a.grouped},{[`& .${s.grouped}`]:a[`grouped${O(o.orientation)}`]},{[`& .${s.firstButton}`]:a.firstButton},{[`& .${s.lastButton}`]:a.lastButton},{[`& .${s.middleButton}`]:a.middleButton},a.root,o.orientation==="vertical"&&a.vertical,o.fullWidth&&a.fullWidth]}})(E(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderTop:0,marginTop:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${s.lastButton}.${C.disabled},& .${s.middleButton}.${C.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${s.grouped}`]:{[`&.${s.selected} + .${s.grouped}.${s.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${s.firstButton},& .${s.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${s.lastButton},& .${s.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${s.lastButton}.${C.disabled},& .${s.middleButton}.${C.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ke=c.forwardRef(function(a,o){const n=Y({props:a,name:"MuiToggleButtonGroup"}),{children:i,className:p,color:r="standard",disabled:u=!1,exclusive:f=!1,fullWidth:m=!1,onChange:x,orientation:z="horizontal",size:j="medium",value:d,...$}=n,T={...n,disabled:u,fullWidth:m,orientation:z,size:j},h=Pe(T),k=c.useCallback((g,l)=>{if(!x)return;const R=d&&d.indexOf(l);let M;d&&R>=0?(M=d.slice(),M.splice(R,1)):M=d?d.concat(l):[l],x(g,M)},[x,d]),B=c.useCallback((g,l)=>{x&&x(g,d===l?null:l)},[x,d]),V=c.useMemo(()=>({className:h.grouped,onChange:f?B:k,value:d,size:j,fullWidth:m,color:r,disabled:u}),[h.grouped,f,B,k,d,j,m,r,u]),w=ye(i),L=w.length,S=g=>{const l=g===0,R=g===L-1;return l&&R?"":l?h.firstButton:R?h.lastButton:h.middleButton};return t.jsx(ze,{role:"group",className:F(h.root,p),ref:o,ownerState:T,...$,children:t.jsx(K.Provider,{value:V,children:w.map((g,l)=>t.jsx(Z.Provider,{value:S(l),children:g},l))})})}),Me=({to:e,sx:a,children:o})=>t.jsx(y,{sx:{":hover":{bgcolor:H.palette.white.dark},cursor:"pointer",p:0},children:t.jsx(oe,{component:q,to:e,sx:{display:"block",p:2,width:"100%",...a},children:o})}),Oe=Q(t.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Ve=Q(t.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),Le=({open:e,onClose:a})=>t.jsx(se,{title:"Tutorial",open:e,onClose:a,children:t.jsxs(P,{spacing:1,sx:{pl:.5},children:[t.jsx(b,{children:"You can see all your projects on this page."}),t.jsx(b,{children:"You can also create new project. The main parts of project are its team and tasks."}),t.jsx(b,{children:"Team of a project is formed from executors. Team also includes lead of project if they are specified"})]})}),{Create:Se}=X,He=({externalState:e})=>{const a=(p,r)=>{r&&(e.setView(r),_.set("projectsView",r))},{openModal:o,handleModalOpen:n,handleModalClose:i}=re();return t.jsxs(ne,{title:"Projects",children:[t.jsx(he,{onClick:n}),t.jsx(Le,{open:o,onClose:i}),t.jsx(le,{variant:"contained",to:Se,children:"New"}),t.jsxs(ke,{color:"primary",value:e.view,exclusive:!0,onChange:a,sx:{height:"38px"},children:[t.jsx(W,{value:"cards","aria-label":"cards",children:t.jsx(Ve,{})}),t.jsx(W,{value:"table","aria-label":"table",children:t.jsx(Oe,{})})]})]})},Ge=({id:e,name:a,description:o,lead:n,startDate:i,endDate:p})=>t.jsx(ie,{variant:"outlined",component:q,to:de("",X.Projects,e),sx:{textDecoration:"none",":hover":{boxShadow:5}},children:t.jsxs(ce,{sx:{display:"flex",flexDirection:"column",gap:1,height:"100%"},children:[t.jsx(b,{sx:{fontWeight:500,fontSize:20},children:a}),t.jsxs(P,{spacing:1,sx:{mt:"auto"},children:[t.jsx(b,{children:o}),t.jsx(b,{sx:{backgroundColor:H.palette.secondary.light,paddingY:.5,paddingX:1,borderRadius:1},children:(n==null?void 0:n.name)||"Unspecified lead"}),t.jsxs(b,{children:[i," - ",p]})]})]})}),N=12,We=({})=>{const[e,a]=c.useState(1),o=J.get(N,e);return!o||!o.data.length?t.jsx("p",{children:"You haven't added any projects yet"}):t.jsxs(P,{spacing:2,sx:{flexGrow:1,justifyContent:"space-between"},children:[t.jsx(pe,{minItemWidth:"300px",spacing:2,children:o==null?void 0:o.data.map(n=>t.jsx(Ge,{...n},n.id))}),t.jsx(ue,{itemsCount:o.totalCount,limit:N,currentPage:e,setPage:a})]})},Ne=[{label:"Name",align:"left"},{label:"Lead",align:"right"},{label:"Team size",align:"right"},{label:"Start date",align:"right"},{label:"End date",align:"right"}],De=({})=>{const e=J.get();if(!e||!e.data.length)return t.jsx("p",{children:"You haven't added any projects yet"});const{page:a,rowsPerPage:o,visibleRows:n,handleChangePage:i,handleChangeRowsPerPage:p}=fe(e.data,12);return t.jsxs(P,{component:ge,elevation:3,sx:{flexGrow:1,justifyContent:"space-between",overflow:"hidden"},children:[t.jsx(ve,{children:t.jsxs(be,{children:[t.jsx(Ce,{sx:{bgcolor:H.palette.white.dark},children:t.jsx(G,{children:Ne.map(r=>t.jsx(y,{sx:{py:1},align:r.align,children:r.label},r.label))})}),t.jsx(je,{children:n.map((r,u)=>{var f;return t.jsxs(G,{hover:!0,children:[t.jsx(Me,{to:r.id,children:r.name}),t.jsx(y,{align:"right",children:((f=r.lead)==null?void 0:f.name)||"Unspecified"}),t.jsx(y,{align:"right",children:r.team.length}),t.jsx(y,{align:"right",children:r.startDate}),t.jsx(y,{align:"right",children:r.endDate})]},r.name+u)})})]})}),t.jsx(Be,{rowsPerPageOptions:[12,25],component:"div",count:e.data.length,rowsPerPage:o,page:a,onPageChange:i,onRowsPerPageChange:p})]})},Ue=_.get("projectsView")||"cards",Qe=()=>{const[e,a]=c.useState(Ue);return e?t.jsxs(P,{sx:{height:"100%"},children:[t.jsx(He,{externalState:{view:e,setView:a}}),e==="cards"&&t.jsx(We,{}),e==="table"&&t.jsx(De,{})]}):t.jsx(xe,{})};export{Qe as default};
