import{r as j,j as t,G as o,t as g,d as h,P as m,B as k}from"./index-Bwak4EGY.js";import{p as f}from"./storage-CsnL4A9I.js";import{D as T,T as b,t as l}from"./TaskColumn-Cky_wazI.js";const v=[{id:"to do",label:"To do"},{id:"in progress",label:"In progress"},{id:"code review",label:"Code review"},{id:"done",label:"Done"}],w=(e,s)=>{if(s)return s.filter(a=>a.status===e)},D=e=>l.getByProjectId(e)||[],I=({projectId:e})=>{const[s,a]=j.useState(()=>D(e)),u=r=>{const{active:p,over:i}=r;if(!i)return;const d=p.id,c=i.id;a(()=>{const x=s.map(n=>d===n.id?{...n,status:c}:n);return l.updateOne(d,c),x})};return t.jsx(o,{container:!0,spacing:2,size:"grow",sx:{[g.breakpoints.down("lg")]:{flexDirection:"column"}},children:t.jsx(T,{onDragEnd:u,children:v.map(r=>t.jsx(o,{size:"grow",sx:{height:"100%",flexGrow:1},children:t.jsx(b,{label:r.label,tasks:w(r.id,s),column:r})},r.id))})})},S=({})=>{const{id:e}=h(),s=f.getById(e);return s?t.jsxs(o,{container:!0,direction:"column",sx:{height:"100%"},children:[t.jsx(m,{title:s.name,children:t.jsx(k,{to:"create-task",variant:"contained",children:"Add task"})}),t.jsx(I,{projectId:e})]}):t.jsx("p",{children:"Error"})};export{S as default};
