import{d as j,j as s,b as l,u as b,e as S,S as x,c as k,s as I,a as v,T as w}from"./index-saYaPf9d.js";import{t as T,a as V}from"./TaskColumn-BiVyj3J4.js";import{u as W}from"./index.esm-C3fqE1Ih.js";import{T as o,F as u,I as c}from"./TextField-DDj7DV_z.js";import{S as m}from"./Select-Cn-JDl28.js";import{M as n}from"./MenuItem-BCi1nPQf.js";import"./useFormControl-Cqs0eR1L.js";const F=()=>{const{id:r}=j();if(!r)return s.jsx("p",{children:"Error"});const f=W({defaultValues:{name:"",description:"",assigneeId:l.Unspecified,status:"to do"}}),p=b(),{register:a,handleSubmit:h,getValues:t}=f,i=S.get(),g=()=>{const e={projectId:r,name:t("name"),description:t("description"),assigneeId:t("assigneeId"),status:t("status")},d=V.create(e);d&&p(I("",v.Projects,d.projectId))};return s.jsx("form",{onSubmit:h(g),noValidate:!0,children:s.jsxs(x,{spacing:2,children:[s.jsx(o,{id:"task-name",label:"Name",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",...a("name",{required:!0})}),s.jsx(o,{id:"task-description",label:"Description",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",multiline:!0,minRows:3,maxRows:3,...a("description")}),s.jsxs(u,{fullWidth:!0,children:[s.jsx(c,{id:"task-assignee-label",children:"Assignee"}),s.jsxs(m,{id:"task-assignee",labelId:"task-assignee-label",label:"Assignee",defaultValue:l.Unspecified,sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...a("assigneeId"),children:[s.jsx(n,{value:l.Unspecified,selected:!0,children:"Unspecified"}),!!(i!=null&&i.data.length)&&i.data.map(e=>s.jsx(n,{value:e.id,children:e.name},e.id))]})]}),s.jsxs(u,{fullWidth:!0,children:[s.jsx(c,{id:"task-status-label",children:"Status"}),s.jsx(m,{id:"task-status",labelId:"task-status-label",label:"Status",defaultValue:"to do",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...a("status"),children:T.map(e=>s.jsx(n,{value:e.id,selected:e.id==="to do",children:e.label},e.id))})]}),s.jsx(k,{variant:"contained",type:"submit",sx:{alignSelf:"flex-start"},children:"Create"})]})})},A=({})=>s.jsxs(x,{spacing:2,children:[s.jsx(w,{variant:"h1",children:"New task"}),s.jsx(F,{})]});export{A as default};
