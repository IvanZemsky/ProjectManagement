import{V as fe,W as ge,r as u,z as he,X as xe,l as V,n as Q,o as R,w as D,y as F,Y as be,Z as ye,C as ve,j as s,D as G,E as O,_ as we,$ as Ce,a0 as q,g as Se,a1 as Re,K as ee,p as Ee,L as je,T as Ae,t as se,a2 as te,u as De,S as Te,P as Pe,B as ke}from"./index-M8xitAOu.js";import{p as $e}from"./store-Ci3FYRJO.js";import{u as Me,T as ze,t as oe,D as Ie,a as Ne,b as Be}from"./TaskColumn-D4zwICES.js";import{E as Le,D as We,o as Ge}from"./DeleteTaskBtn-DW-6JPdu.js";import"./index.esm-ClhOTKCj.js";import"./utils-DfPLg48c.js";import"./TextField-CAPKmTA8.js";import"./Select-4Pf-cQft.js";import"./MenuItem-DlgW24CP.js";function Ue(e,t,o,n,i){const[a,d]=u.useState(()=>i&&o?o(e).matches:n?n(e).matches:t);return he(()=>{if(!o)return;const c=o(e),l=()=>{d(c.matches)};return l(),c.addEventListener("change",l),()=>{c.removeEventListener("change",l)}},[e,o]),a}const He={...xe},re=He.useSyncExternalStore;function Ve(e,t,o,n,i){const a=u.useCallback(()=>t,[t]),d=u.useMemo(()=>{if(i&&o)return()=>o(e).matches;if(n!==null){const{matches:p}=n(e);return()=>p}return a},[a,e,n,i,o]),[c,l]=u.useMemo(()=>{if(o===null)return[a,()=>()=>{}];const p=o(e);return[()=>p.matches,f=>(p.addEventListener("change",f),()=>{p.removeEventListener("change",f)})]},[a,o,e]);return re(l,c,d)}function Qe(e,t={}){const o=fe(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:a=n?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:c=!1}=ge({name:"MuiUseMediaQuery",props:t,theme:o});let l=typeof e=="function"?e(o):e;return l=l.replace(/^@media( ?)/m,""),(re!==void 0?Ve:Ue)(l,i,a,d,c)}function Fe(e){return Q("MuiCollapse",e)}V("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Oe=e=>{const{orientation:t,classes:o}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return O(n,Fe,o)},Ke=R("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.state==="entered"&&t.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&t.hidden]}})(D(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Xe=R("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ye=R("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),_=u.forwardRef(function(t,o){const n=F({props:t,name:"MuiCollapse"}),{addEndListener:i,children:a,className:d,collapsedSize:c="0px",component:l,easing:m,in:p,onEnter:f,onEntered:y,onEntering:v,onExit:T,onExited:E,onExiting:w,orientation:g="vertical",style:P,timeout:x=we.standard,TransitionComponent:L=Ce,...K}=n,k={...n,orientation:g,collapsedSize:c},b=Oe(k),$=be(),X=ye(),C=u.useRef(null),M=u.useRef(),z=typeof c=="number"?`${c}px`:c,j=g==="horizontal",A=j?"width":"height",I=u.useRef(null),Y=ve(o,I),N=r=>h=>{if(r){const S=I.current;h===void 0?r(S):r(S,h)}},Z=()=>C.current?C.current[j?"clientWidth":"clientHeight"]:0,ae=N((r,h)=>{C.current&&j&&(C.current.style.position="absolute"),r.style[A]=z,f&&f(r,h)}),de=N((r,h)=>{const S=Z();C.current&&j&&(C.current.style.position="");const{duration:W,easing:U}=q({style:P,timeout:x,easing:m},{mode:"enter"});if(x==="auto"){const J=$.transitions.getAutoHeightDuration(S);r.style.transitionDuration=`${J}ms`,M.current=J}else r.style.transitionDuration=typeof W=="string"?W:`${W}ms`;r.style[A]=`${S}px`,r.style.transitionTimingFunction=U,v&&v(r,h)}),ce=N((r,h)=>{r.style[A]="auto",y&&y(r,h)}),le=N(r=>{r.style[A]=`${Z()}px`,T&&T(r)}),pe=N(E),ue=N(r=>{const h=Z(),{duration:S,easing:W}=q({style:P,timeout:x,easing:m},{mode:"exit"});if(x==="auto"){const U=$.transitions.getAutoHeightDuration(h);r.style.transitionDuration=`${U}ms`,M.current=U}else r.style.transitionDuration=typeof S=="string"?S:`${S}ms`;r.style[A]=z,r.style.transitionTimingFunction=W,w&&w(r)}),me=r=>{x==="auto"&&X.start(M.current||0,r),i&&i(I.current,r)};return s.jsx(L,{in:p,onEnter:ae,onEntered:ce,onEntering:de,onExit:le,onExited:pe,onExiting:ue,addEndListener:me,nodeRef:I,timeout:x==="auto"?null:x,...K,children:(r,h)=>s.jsx(Ke,{as:l,className:G(b.root,d,{entered:b.entered,exited:!p&&z==="0px"&&b.hidden}[r]),style:{[j?"minWidth":"minHeight"]:z,...P},ref:Y,...h,ownerState:{...k,state:r},children:s.jsx(Xe,{ownerState:{...k,state:r},className:b.wrapper,ref:C,children:s.jsx(Ye,{ownerState:{...k,state:r},className:b.wrapperInner,children:a})})})})});_&&(_.muiSupportAuto=!0);const ie=u.createContext({});function Ze(e){return Q("MuiAccordion",e)}const H=V("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),_e=e=>{const{classes:t,square:o,expanded:n,disabled:i,disableGutters:a}=e;return O({root:["root",!o&&"rounded",n&&"expanded",i&&"disabled",!a&&"gutters"],heading:["heading"],region:["region"]},Ze,t)},Je=R(Se,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${H.region}`]:t.region},t.root,!o.square&&t.rounded,!o.disableGutters&&t.gutters]}})(D(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${H.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${H.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),D(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${H.expanded}`]:{margin:"16px 0"}}}]}))),qe=R("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),et=u.forwardRef(function(t,o){const n=F({props:t,name:"MuiAccordion"}),{children:i,className:a,defaultExpanded:d=!1,disabled:c=!1,disableGutters:l=!1,expanded:m,onChange:p,square:f=!1,slots:y={},slotProps:v={},TransitionComponent:T,TransitionProps:E,...w}=n,[g,P]=Re({controlled:m,default:d,name:"Accordion",state:"expanded"}),x=u.useCallback(Y=>{P(!g),p&&p(Y,!g)},[g,p,P]),[L,...K]=u.Children.toArray(i),k=u.useMemo(()=>({expanded:g,disabled:c,disableGutters:l,toggle:x}),[g,c,l,x]),b={...n,square:f,disabled:c,disableGutters:l,expanded:g},$=_e(b),X={transition:T,...y},C={transition:E,...v},M={slots:X,slotProps:C},[z,j]=ee("heading",{elementType:qe,externalForwardedProps:M,className:$.heading,ownerState:b}),[A,I]=ee("transition",{elementType:_,externalForwardedProps:M,ownerState:b});return s.jsxs(Je,{className:G($.root,a),ref:o,ownerState:b,square:f,...w,children:[s.jsx(z,{...j,children:s.jsx(ie.Provider,{value:k,children:L})}),s.jsx(A,{in:g,timeout:"auto",...I,children:s.jsx("div",{"aria-labelledby":L.props.id,id:L.props["aria-controls"],role:"region",className:$.region,children:K})})]})});function tt(e){return Q("MuiAccordionDetails",e)}V("MuiAccordionDetails",["root"]);const ot=e=>{const{classes:t}=e;return O({root:["root"]},tt,t)},nt=R("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(D(({theme:e})=>({padding:e.spacing(1,2,2)}))),st=u.forwardRef(function(t,o){const n=F({props:t,name:"MuiAccordionDetails"}),{className:i,...a}=n,d=n,c=ot(d);return s.jsx(nt,{className:G(c.root,i),ref:o,ownerState:d,...a})});function rt(e){return Q("MuiAccordionSummary",e)}const B=V("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),it=e=>{const{classes:t,expanded:o,disabled:n,disableGutters:i}=e;return O({root:["root",o&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",o&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",o&&"expanded"]},rt,t)},at=R(Ee,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(D(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${B.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${B.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${B.disabled})`]:{cursor:"pointer"},variants:[{props:o=>!o.disableGutters,style:{[`&.${B.expanded}`]:{minHeight:64}}}]}})),dt=R("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(D(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${B.expanded}`]:{margin:"20px 0"}}}]}))),ct=R("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(D(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${B.expanded}`]:{transform:"rotate(180deg)"}}))),lt=u.forwardRef(function(t,o){const n=F({props:t,name:"MuiAccordionSummary"}),{children:i,className:a,expandIcon:d,focusVisibleClassName:c,onClick:l,...m}=n,{disabled:p=!1,disableGutters:f,expanded:y,toggle:v}=u.useContext(ie),T=g=>{v&&v(g),l&&l(g)},E={...n,expanded:y,disabled:p,disableGutters:f},w=it(E);return s.jsxs(at,{focusRipple:!1,disableRipple:!0,disabled:p,component:"div","aria-expanded":y,className:G(w.root,a),focusVisibleClassName:G(w.focusVisible,c),onClick:T,ref:o,ownerState:E,...m,children:[s.jsx(dt,{className:w.content,ownerState:E,children:i}),d&&s.jsx(ct,{className:w.expandIconWrapper,ownerState:E,children:d})]})}),pt=je(s.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),ut=({text:e})=>s.jsxs(et,{disableGutters:!0,disabled:!e,children:[s.jsx(lt,{expandIcon:s.jsx(pt,{}),sx:{fontSize:18},children:e?"Description":"No description was provided"}),s.jsx(st,{children:s.jsx(Ae,{children:e})})]}),ne=(e,t)=>{if(t)return t.filter(o=>o.status===e)},mt=e=>{if(e)return{transform:`translate(${e.x}px, ${e.y}px)`,zIndex:20,cursor:"grabbing"}},ft=({data:e,draggable:t})=>{const o=Qe(se.breakpoints.up("lg"))&&t,[n,i]=u.useState(o),{id:a}=e,{attributes:d,listeners:c,setNodeRef:l,transform:m}=Me({id:a,disabled:!n}),p=mt(m),f=v=>{v.stopPropagation(),i(!1)},y=()=>i(!0);return s.jsx(ze,{data:e,ref:l,...c,...d,sx:{cursor:n?"grab":"default",...p},editBtn:s.jsx(Le,{id:e.id,name:e.name,onPointerDown:f,onEditorClose:y}),deleteBtn:s.jsx(We,{id:e.id,name:e.name,onPointerDown:f})})},gt=Ge(({projectId:e})=>{const t=oe.getByProjectId(e),o=n=>{const{active:i,over:a}=n;if(!a)return;const d=i.id,c=a.id,l=t.map(m=>d===m.id?{...m,status:c}:m);return oe.update(d,l.find(m=>m.id===d)),l};return s.jsx(te,{container:!0,spacing:2,size:"grow",sx:{[se.breakpoints.down("lg")]:{flexDirection:"column"}},children:s.jsx(Ie,{onDragEnd:o,children:Ne.map(n=>{var i,a;return s.jsx(te,{size:"grow",sx:{height:"100%",flexGrow:1},children:s.jsx(Be,{label:n.label,tasksLength:((i=ne(n.id,t))==null?void 0:i.length)||0,column:n,children:(a=ne(n.id,t))==null?void 0:a.map(d=>s.jsx(ft,{data:d,draggable:!0},d.id))})},n.id)})})})}),Et=({})=>{const{projectId:e}=De(),t=$e.getById(e);return t?s.jsxs(Te,{spacing:1,sx:{height:"100%"},children:[s.jsx(Pe,{title:t.name,children:s.jsx(ke,{to:"create-task",variant:"contained",children:"Add task"})}),s.jsx(ut,{text:t.description}),s.jsx(gt,{projectId:e})]}):s.jsx("p",{children:"Error"})};export{Et as default};
