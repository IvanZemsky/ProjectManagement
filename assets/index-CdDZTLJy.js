import{b as l,r as n,u as f,e as j,j as e,S as c,c as h,s as S,a as g,T as b}from"./index-saYaPf9d.js";import{p as v}from"./storage-Bbm2pC8S.js";import{u as w}from"./index.esm-C3fqE1Ih.js";import{T as r,F as D,I}from"./TextField-DDj7DV_z.js";import{S as P}from"./Select-Cn-JDl28.js";import{M as o}from"./MenuItem-BCi1nPQf.js";import"./useFormControl-Cqs0eR1L.js";const W=()=>{const m=w({defaultValues:{name:"",description:"",leadId:l.Unspecified,endDate:"",startDate:""}});n.useState(!1);const p=f(),{register:t,handleSubmit:u,getValues:a}=m,i=n.useMemo(()=>j.get(),[]),x=()=>{const s={name:a("name"),description:a("description"),leadId:a("leadId"),startDate:a("startDate"),endDate:a("endDate")},d=v.create(s);d&&p("/"+S(g.Projects,d.id))};return e.jsx("form",{onSubmit:u(x),noValidate:!0,children:e.jsxs(c,{spacing:2,children:[e.jsx(r,{id:"project-name",label:"Name",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",...t("name",{required:!0})}),e.jsx(r,{id:"project-description",label:"Description",variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",multiline:!0,minRows:3,maxRows:3,...t("description")}),e.jsxs(D,{fullWidth:!0,children:[e.jsx(I,{id:"project-lead-label",children:"Lead"}),e.jsxs(P,{id:"project-lead",labelId:"project-lead-label",label:"Lead",defaultValue:l.Unspecified,sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},...t("leadId"),children:[e.jsx(o,{value:l.Unspecified,selected:!0,children:"Unspecified"}),!!(i!=null&&i.data.length)&&i.data.map(s=>e.jsx(o,{value:s.id,children:s.name},s.id))]})]}),e.jsx(r,{id:"project-start-date",label:"Start date",slotProps:{inputLabel:{shrink:!0}},variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",type:"date",...t("startDate",{required:!0})}),e.jsx(r,{id:"project-end-date",label:"End date",slotProps:{inputLabel:{shrink:!0}},variant:"filled",sx:{alignSelf:"flex-start",maxWidth:400,width:"100%"},size:"small",type:"date",...t("endDate",{required:!0})}),e.jsx(h,{variant:"contained",type:"submit",sx:{alignSelf:"flex-start"},children:"Create"})]})})},U=()=>e.jsxs(c,{spacing:2,children:[e.jsx(b,{variant:"h1",children:"New project"}),e.jsx(W,{})]});export{U as default};
